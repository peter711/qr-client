(this["webpackJsonpqr-client"]=this["webpackJsonpqr-client"]||[]).push([[0],{118:function(e,n,t){},158:function(e,n,t){"use strict";t.r(n);var c,a,s,i,r,o=t(0),d=t.n(o),l=t(19),j=t.n(l),u=(t(118),t(61)),b=t(18),h=t(33),O=t(53),m=t(35),f=t(160),x=t(62),v=t(164),g=t(165),p=t(161),y=t(93),N=t(94),k=function(){function e(){Object(y.a)(this,e),this.reader=void 0,this.reader=new x.BrowserMultiFormatReader}return Object(N.a)(e,[{key:"getDevicesList",value:function(){return this.reader.listVideoInputDevices()}},{key:"decode",value:function(e,n){this.reader.decodeFromVideoDevice(e,"video",n)}},{key:"stopDecoding",value:function(){this.reader.stopAsyncDecode()}}]),e}(),C=t(162),D=t(7),S=C.a.Option,w=Object(m.a)((function(e){var n=e.className,t=e.mediaDeviceInfo,c=e.defaultValue,a=e.onDeviceChange;return Object(D.jsx)(C.a,{bordered:!1,onChange:a,defaultValue:c,className:"".concat(n),children:null===t||void 0===t?void 0:t.map((function(e,n){var t=e.deviceId,c=e.label;return Object(D.jsx)(S,{value:t,children:c},"".concat(t,"__").concat(n))}))})}))(c||(c=Object(h.a)(["\n  width: 100%;\n"]))),F=p.a.Paragraph,I=Object(m.a)((function(e){var n=e.className,t=e.onSuccessScan,c=e.onErrorScan,a=Object(o.useMemo)((function(){return new k}),[]),s=Object(o.useState)(),i=Object(O.a)(s,2),r=i[0],d=i[1],l=Object(o.useState)(!1),j=Object(O.a)(l,2),u=j[0],b=j[1],h=Object(o.useState)(null),m=Object(O.a)(h,2),f=m[0],p=m[1],y=Object(o.useCallback)((function(){f&&(b(!0),a.decode(f,(function(e,n){if(e){var a=e.getText();t&&t(a)}!n||n instanceof x.NotFoundException||c&&c(n)})))}),[c,t,a,f]);return Object(o.useEffect)((function(){return a.getDevicesList().then((function(e){d(e),p(e[0].deviceId)})),function(){a.stopDecoding()}}),[a]),Object(D.jsxs)("div",{className:n,children:[r&&null!==f&&Object(D.jsx)("div",{children:Object(D.jsx)(w,{mediaDeviceInfo:r,defaultValue:f,onDeviceChange:p})}),u&&Object(D.jsxs)("div",{className:"video-area",children:[Object(D.jsx)("video",{id:"video",width:"300",height:"200"}),Object(D.jsxs)("div",{className:"video-hint",children:[Object(D.jsx)(v.a,{className:"info-icon"}),Object(D.jsx)(F,{type:"secondary",className:"hint",children:"Use your camera to scan QR code"})]})]}),!u&&Object(D.jsxs)("div",{className:"barcode",onClick:y,children:[Object(D.jsx)(g.a,{className:"barcode-icon"}),Object(D.jsx)(F,{type:"secondary",children:"Tap to scan QR code"})]})]})}))(a||(a=Object(h.a)(["\n  height: 100%;\n  display: grid;\n  grid-template-columns: max-content;\n  grid-template-rows: 10% auto;\n  justify-content: center;\n  text-align: center;\n\n  .video-hint {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    .info-icon {\n      margin-right: 10px;\n      font-size: 18px;\n    }\n\n    .hint {\n      margin: 0;\n    }\n\n    margin-bottom: 1em;\n  }\n\n  .barcode-icon {\n    font-size: 200px;\n  }\n"]))),T=m.a.div(s||(s=Object(h.a)(["\n  height: 100vh;\n  padding: 1em 0.5em 1em 0.5em;\n  position: relative;\n"]))),V=function(e){var n=e.children,t=e.className;return Object(D.jsx)(T,{className:t,children:n})},z=Object(m.a)((function(e){var n=e.className,t=Object(b.f)(),c=Object(o.useState)(!1),a=Object(O.a)(c,2),s=a[0],i=a[1],r=Object(o.useCallback)((function(e){i(!0),setTimeout((function(){t.replace({pathname:"/success"})}),3e3)}),[t]);return Object(D.jsxs)(V,{className:n,children:[s&&Object(D.jsx)(f.a,{className:"activity-indicator",size:"large"}),!s&&Object(D.jsx)(I,{onSuccessScan:r})]})}))(i||(i=Object(h.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),E=t(166),L=t(112),P=t(163),B=p.a.Paragraph,M=Object(m.a)((function(e){var n=e.className,t=Object(b.f)(),c=Object(o.useCallback)((function(){t.replace({pathname:"/"})}),[t]);return Object(D.jsxs)(V,{className:n,children:[Object(D.jsxs)("div",{children:[Object(D.jsx)(E.a,{className:"success-icon"}),Object(D.jsx)(B,{type:"success",className:"success-message",strong:!0,children:"Congratulations!"}),Object(D.jsx)(B,{type:"secondary",className:"success-message",children:"Your product is verified and original. Thanks for your trust!"})]}),Object(D.jsx)("div",{children:Object(D.jsx)(P.a,{onClick:c,icon:Object(D.jsx)(L.a,{}),type:"link",children:"Scan next"})})]})}))(r||(r=Object(h.a)(["\n  display: grid;\n  grid-template-columns: max-content;\n  grid-template-rows: 90% auto;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n\n  .success-icon {\n    font-size: 108px;\n  }\n\n  .success-message {\n    margin-top: 1em;\n    max-width: 100vw;\n  }\n"])));var R=function(){return Object(D.jsx)(u.a,{children:Object(D.jsxs)(b.c,{children:[Object(D.jsx)(b.a,{exact:!0,path:"/",children:Object(D.jsx)(z,{})}),Object(D.jsx)(b.a,{exact:!0,path:"/success",children:Object(D.jsx)(M,{})})]})})},q=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,167)).then((function(n){var t=n.getCLS,c=n.getFID,a=n.getFCP,s=n.getLCP,i=n.getTTFB;t(e),c(e),a(e),s(e),i(e)}))};t(157);j.a.render(Object(D.jsx)(d.a.StrictMode,{children:Object(D.jsx)(R,{})}),document.getElementById("root")),q()}},[[158,1,2]]]);
//# sourceMappingURL=main.58b941c8.chunk.js.map